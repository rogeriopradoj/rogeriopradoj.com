<!DOCTYPE html>
<html>
    <head>
        <title>ROGERIO PRADO J | rogeriopradoj.com &mdash; Desenvolvimento e TI em geral</title>

        <base href="https://rogeriopradoj.com/">

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="ROGERIO PRADO J | rogeriopradoj.com &mdash; Desenvolvimento e TI em geral">
            <meta name="description" content="
    
    Como tirar acentos de string no Python?


Olá, galera, tudo certinho?

Nesse caminho do Data Science, em específico no tratamento de textos e processamento de linguagem natural (PLN, ou NLP do inglês Natural Language Processing), muitos e muitos tratamentos em string são necessários. E ...">
    <meta name="keywords" content="rogeriopradoj, , python, pip, nlp, unicodedata, unidecode, transliterate, transliteração" />

    <!-- Facebook -->
    <meta property="og:title" content="Como tirar acentos de string no Python? Transliterate, Unicodedata e Unidecode" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="https://rogeriopradoj.com/assets/images/2019/07/14-como-tirar-acentos-de-string-no-python-transliterate-unicodedata-e-unidecode.png" />
    <meta property="og:url" content="https://rogeriopradoj.com/2019/07/14/como-tirar-acentos-de-string-no-python-transliterate-unicodedata-e-unidecode/" />
    <meta property="og:description" content="
    
    Como tirar acentos de string no Python?


Olá, galera, tudo certinho?

Nesse caminho do Data Science, em específico no tratamento de textos e processamento de linguagem natural (PLN, ou NLP do inglês Natural Language Processing), muitos e muitos tratamentos em string são necessários. E ..." />
    <meta property="article:author" content="https://www.facebook.com/rogeriopradoj" />
    <meta property="article:publisher" content="https://www.facebook.com/rogeriopradojcom" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />    
    <meta name="twitter:image:src" content="https://rogeriopradoj.com/assets/images/2019/07/14-como-tirar-acentos-de-string-no-python-transliterate-unicodedata-e-unidecode.png">
    <meta name="twitter:title" content="Como tirar acentos de string no Python? Transliterate, Unicodedata e Unidecode" />
    <meta name="twitter:description" content="
    
    Como tirar acentos de string no Python?


Olá, galera, tudo certinho?

Nesse caminho do Data Science, em específico no tratamento de textos e processamento de linguagem natural (PLN, ou NLP do inglês Natural Language Processing), muitos e muitos tratamentos em string são necessários. E ..." />
    <meta name="twitter:creator" content="@rogeriopradoj" />
    <meta name="twitter:site" content="@rogeriopradoj" />

        <link rel="search" href="https://rogeriopradoj.com/search.xml" type="application/opensearchdescription+xml" title="ROGERIO PRADO J | rogeriopradoj.com"/>

        <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
        
        <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">

        <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">

        <link rel="manifest" href="/site.webmanifest">
        <link rel="manifest" href="manifest.json">

        <meta name="msapplication-TileColor" content="#ffffff">

        <meta name="theme-color" content="#ffffff">

        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
        <!-- build:css assets/css/main.min.css -->
        <link href="/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="assets/components/highlightjs/styles/default.css" rel="stylesheet" />
        <link href="assets/components/bootstrap-social/bootstrap-social.css" rel="stylesheet" type="text/css" />
        <link href="assets/css/main.css" rel="stylesheet" type="text/css" />
        <!-- /build -->

        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
            <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <link rel="alternate" type="application/atom+xml" href="https://rogeriopradoj.com/atom.xml" title="ROGERIO PRADO J | rogeriopradoj.com activity feed" />

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-23860787-1"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-23860787-1', { 'optimize_id': 'GTM-K94X8R5'});
        </script>
    </head>
    <body>
        <header>
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container header-container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand async" href="https://rogeriopradoj.com/">Blog</a>
            <div class="preloader"></div>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                <li><a href="about/">Sobre / About / Acerca</a></li>
                <li><a href="slides/">Slides</a></li>
                <li><a href="pradoj-com/">PradoJ.com</a></li>
                <li><a href="contato/">Contato / Contact</a></li>
                <li><a href="gift/">Gift / Apoie / Doe</a></li>
                <li><a href="livro/">Meu Livro</a></li>
            </ul>
            <form class="navbar-form navbar-right" id="search-form" role="search" method="get" action="https://rogeriopradoj.com/search/">
                <div class="form-group">
                    <input type="search" class="form-control" placeholder="Search" name="q">
                    <i class="fa fa-search"></i>
                </div>
            </form>
            <ul class="nav navbar-nav navbar-right hidden-xs">
                <li>
                    <a href="#top" class="to-top hidden">
                        <i class="fa fa-arrow-up"></i> To top
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>        </header>

        <div id="wrap">
            <div id="brand">
                <div class="container">
                    <h1><a href="https://rogeriopradoj.com/">ROGERIO PRADO J | rogeriopradoj.com</a></h1>
                </div>
            </div>
            <div class="container" id="main">
                <div class="row">
                    <div class="col-md-9">
                            <article class="post">
        <header>
            <h2 class="post-title">Como tirar acentos de string no Python? Transliterate, Unicodedata e Unidecode</h2>
            <div class="post-meta-text">
                <small>Por <a class="author-name" itemprop="author" itemscope="" itemtype="http://schema.org/Person" href="https://rogeriopradoj.com/about">Rogerio Prado de Jesus</a> em <time datetime="2019-07-14T19:48:00+00:00" pubdate><span>14/07/2019</span></time>.</small>
                <div class="post-reading">
                    <small><i><span class="post-reading-time"></span> de leitura (<span class="post-word-count"></span> palavras).</i></small>
                </div>
            </div>
            <hr>
        </header>
        <div class="post-content">
            <figure>
    <img title="Como tirar acentos de string no Python?" src="/assets/images/2019/07/14-como-tirar-acentos-de-string-no-python-transliterate-unicodedata-e-unidecode.png" alt="Como tirar acentos de string no Python?">
    <figcaption>Como tirar acentos de string no Python?</figcaption>
</figure>

<p>Olá, galera, tudo certinho?</p>

<p>Nesse caminho do Data Science, em específico no tratamento de textos e processamento de linguagem natural (PLN, ou NLP do inglês Natural Language Processing), muitos e muitos tratamentos em string são necessários. E um deles que me apareceu: como fazer para retirar acentos de uma cadeia de caracteres e olhar um texto mais puro?</p>

<p>Lembrando da minha experiência com programação, lembrei do conceito de transliteração, do inglês transliteratation:</p>

<blockquote>
  <p><strong>Transliteration</strong> is a type of conversion of a text from one script to another[1] that involves swapping letters (thus trans- + liter-) in predictable ways (such as α → a, д → d, χ → ch, ն → n or æ → ae).</p>
  
  <p>-- <a href="https://en.wikipedia.org/wiki/Transliteration">Wikipedia</a></p>
</blockquote>

<p>Em resumo, é fazer com que todas as formas de apresentação de uma letra seja padronizada em uma apenas. Pegando como exemplo, no português, temos os seguintes caracteres:</p>

<ul>
<li>a, á, à, â</li>
<li>e, é, ê</li>
<li>i, í</li>
<li>o, ó, ô</li>
<li>u, ú, ü</li>
<li>c, ç</li>
</ul>

<p>Esses grupos todos acima poderiam ser padronizados no primeiro "formato", o próprio caracter sem acento, trema ou cedilha, no caso:</p>

<ul>
<li>a</li>
<li>e</li>
<li>i</li>
<li>o</li>
<li>u</li>
<li>c</li>
</ul>

<p>No passado já vi alguns scripts caseiros, geralmente naquela biblioteca Utils que o programador faz, com esse tipo de tratamento, algo como:</p>

<ul>
<li>lista "de-para" do caractere acentuado para o sem acento;</li>
<li>em seguida, usando alguma função de "string replace", rodar isso em cada função.</li>
</ul>

<p>A dúvida: será que não tem uma função da biblioteca padrão da linguagem, ou então algum pacote bem utilizado para fazer essa função? E tem sim! E mais de um! Aqui vamos ver dois deles: o <a href="https://docs.python.org/3/library/unicodedata.html"><strong>unicodedata</strong></a>, embutido no Python, e o <a href="https://pypi.org/project/Unidecode/"><strong>unidecode</strong></a> que pode ser instalado via PyPi.</p>

<p>Pegando um texto bem simples, veja o resultado do processamento de cada um deles:</p>

<pre><code class="python">import unidecode
import unicodedata

# texto original
original = "peça ótimo péssimo não é tão às"

# com unidecode
processamento_1 = unidecode.unidecode(original)
print(processamento_1) # peca otimo pessimo nao e tao as


# com unicodedata
processamento_2 = unicodedata.normalize("NFD", original)
print(processamento_2) # peça ótimo péssimo não é tão às
processamento_2 = processamento_2.encode("ascii", "ignore")
print(processamento_2) # b'peca otimo pessimo nao e tao as'
processamento_2 = processamento_2.decode("utf-8")
print(processamento_2) # peca otimo pessimo nao e tao as
</code></pre>

<p>Nos dois casos, mesma saída: texto original sem os acentos e cedilha. E o unicodedata ainda teve mais passos: primeiro normalizar usando o parâmetro NFD, e em seguida transformar em binário e retornar para string.</p>

<h2 id="se-o-unidecode-parece-ser-bem-mais-simples%2C-por-que-usar-o-unicodedata%3F">Se o unidecode parece ser bem mais simples, por que usar o unicodedata?</h2>

<p>Talvez a primeira vantagem é que o unicodedata já está na biblioteca padrão do Python. Mas a que peguei que é mais crítica é a seguinte: como é feita a transliteração de algumas pontuações, como sinal ordinal masculino (º) e sinal de grau (°).</p>

<pre><code class="python">import unidecode
import unicodedata

# texto original
original = "É o 5º e último. Estava 30°C"

# com unidecode
processamento_1 = unidecode.unidecode(original)
print(processamento_1) # E o 5o e ultimo. Estava 30degC


# com unicodedata
processamento_2 = unicodedata.normalize("NFD", original)
print(processamento_2) # É o 5º e último. Estava 30°C
processamento_2 = processamento_2.encode("ascii", "ignore")
print(processamento_2) # b'E o 5 e ultimo. Estava 30C'
processamento_2 = processamento_2.decode("utf-8")
print(processamento_2) # E o 5 e ultimo. Estava 30C
</code></pre>

<p>Podemos ver que com o unidecode, o ordinal vira uma letra "o" minúscula, e o sinal de grau virá um "deg".</p>

<p>Você terá que avaliar no seu caso, no meu foi assim: na verdade, todo o texto analisado deveria ter sido digitado como ordinal, mas tinha partes com um e partes com outro. É lógico que eu poderia tratar, para substituir primeiramente todos os formatos para um só, e depois fazer a transliteração. Mas, prefiro que a função faça tudo por mim, no caso, retirando os dois sinais. Assim, com a entrada "É o 5º e último. Estava 30°C", prefiro que fique a saída "E o 5 e ultimo. Estava 30C" (unicodedata + encode + decode) do que "E o 5o e ultimo. Estava 30degC" (unidecode).</p>

<hr />

<p>E você, qual formato utilizaria como padrão?</p>

<p>Até a próxima, e podem me chamar para conversar em todos os canais, ok!</p>

<p>Abraços!</p>

<hr />

<p>Este artigo foi publicado originalmente em <a href="https://rogeriopradoj.com/">RogerioPradoJ.com</a>.</p>

        </div>

        <hr>

        <fieldset class="share">
            <legend><small class="text-muted">Se gostou do artigo, compartilhe</small></legend>
            <div class="buttons">
                                <a href="http://www.facebook.com/sharer.php?u=https%3A%2F%2Frogeriopradoj.com%2F2019%2F07%2F14%2Fcomo-tirar-acentos-de-string-no-python-transliterate-unicodedata-e-unidecode%2F%2F/" target="_blank"
                   class="btn btn-sm btn-social btn-facebook">
                    <i class="fa fa-facebook"></i> Facebook
                </a>
                <a href="https://twitter.com/share?url=https%3A%2F%2Frogeriopradoj.com%2F2019%2F07%2F14%2Fcomo-tirar-acentos-de-string-no-python-transliterate-unicodedata-e-unidecode%2F%2F&text=Como%20tirar%20acentos%20de%20string%20no%20Python%3F%20Transliterate%2C%20Unicodedata%20e%20Unidecode&via=rogeriopradoj" target="_blank"
                   class="btn btn-sm btn-social btn-twitter">
                    <i class="fa fa-twitter"></i> Twitter
                </a>
                <a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Frogeriopradoj.com%2F2019%2F07%2F14%2Fcomo-tirar-acentos-de-string-no-python-transliterate-unicodedata-e-unidecode%2F%2F&title=Como tirar acentos de string no Python? Transliterate, Unicodedata e Unidecode&source=https://rogeriopradoj.com" target="_blank"
                   class="btn btn-sm btn-social btn-linkedin">
                    <i class="fa fa-linkedin"></i> LinkedIn
                </a>
            </div>
        </fieldset>

        <hr>

        <fieldset class="share">
            <legend><small class="text-muted">Gostou muito mesmo do conteúdo e quer apoiar financeiramente? É fácil! Use uma das opções abaixo:</small></legend>

            <ul class="list">
                <li><p><a href="https://rogeriopradoj.com/gift/">Gift / Apoie / Doe</a></p></li>
                <li><p><a href="https://rogeriopradoj.com/livro/">Meu Livro: Modernização de Aplicações Legadas em PHP</a></p></li>
            </ul>

        </fieldset>

        <hr>

        <ul class="list-unstyled">
                            <li class="categories-list">
                                            <a class="label label-info" href="https://rogeriopradoj.com/category/Data%20Science/">Data Science</a>
                                    </li>
                                        <li class="tags-list">
                                            <a class="label label-primary" href="https://rogeriopradoj.com/tag/python/">python</a>
                                            <a class="label label-primary" href="https://rogeriopradoj.com/tag/pip/">pip</a>
                                            <a class="label label-primary" href="https://rogeriopradoj.com/tag/nlp/">nlp</a>
                                            <a class="label label-primary" href="https://rogeriopradoj.com/tag/unicodedata/">unicodedata</a>
                                            <a class="label label-primary" href="https://rogeriopradoj.com/tag/unidecode/">unidecode</a>
                                            <a class="label label-primary" href="https://rogeriopradoj.com/tag/transliterate/">transliterate</a>
                                            <a class="label label-primary" href="https://rogeriopradoj.com/tag/translitera%C3%A7%C3%A3o/">transliteração</a>
                                    </li>
                        <li class="clearfix"></li>
        </ul>

                    <nav class="well">
                <ul class="list-unstyled other-articles row">
                    <li class="col-sm-6 col-xs-12">
                                                    <a class="previous" href="https://rogeriopradoj.com/2019/05/13/notebooks-jupyter-em-php-alem-do-python-sim-e-possivel-veja-como-fazer//">
                                <i class="fa fa-angle-double-left"></i>
                                <span class="title">Notebooks Jupyter em PHP, além do Python? Sim, é possível: veja como fazer!</span>
                            </a>
                                            </li>
                    <li class="col-sm-6 col-xs-12 text-right">
                                                    <a class="next" href="https://rogeriopradoj.com/2019/09/09/maquina-virtual-windows-10-com-vagrant-e-virtualbox-para-power-bi-desktop//">
                                <span class="title">Máquina virtual Windows 10 com Vagrant e VirtualBox para Power BI Desktop</span>
                                <i class="fa fa-angle-double-right"></i>
                            </a>
                                            </li>
                </ul>
            </nav>
        
                    <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'rogeriopradojcom';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            </article>
                    </div>
                    <div class="col-md-3 sidebar">
                        <a target="_blank" href="https://rogeriopradoj.com/">
    <img src="https://rogeriopradoj.com/assets/images/rogerio/rogerio-1920x1920.jpg" class="thumbnail">
</a>
<ul class="list-unstyled social-list">
    <a target="_blank" href="https://www.linkedin.com/in/rogeriopradoj">
        <li class="social-element" id="linkedin">
            <i class="fa fa-linkedin"></i>
        </li>
    </a>
    <a target="_blank" href="http://www.zend.com/en/yellow-pages/ZEND024088">
        <li class="social-element" id="php">
            <i class="fa fa-code"></i>
        </li>
    </a>
    <a target="_blank" href="https://github.com/rogeriopradoj/">
        <li class="social-element" id="github">
            <i class="fa fa-github-alt"></i>
        </li>
    </a>
    <a target="_blank" href="https://plus.google.com/+RogerioPradoDeJesus?rel=author">
        <li class="social-element" id="google">
            <i class="fa fa-google-plus"></i>
        </li>
    </a>
    <a target="_blank" href="https://twitter.com/rogeriopradoj">
        <li class="social-element" id="twitter">
            <i class="fa fa-twitter"></i>
        </li>
    </a>
    <a href="https://rogeriopradoj.com/feed/">
        <li class="social-element" id="rss">
            <i class="fa fa-rss"></i>
        </li>
    </a>
</ul>

<div class="well">
    <h4>
        <p>ROGERIO PRADO J | rogeriopradoj.com</p>
        <small>Desenvolvimento e TI em geral</small>    </h4>
</div>
<div class="well">
    <h4>Arquivo</h4>
    <ul class="nav">
        <li><a class="btn btn-block btn-xs btn-info" href="https://rogeriopradoj.com/categories/">Categorias</a></li>
        <li><ul class="list-unstyled">
            <li class="categories-list">
                            </li>
            <li class="clearfix"></li>
        </ul></li>
        <li>&nbsp;</li>
        <li><a  class="btn btn-block btn-xs btn-primary" href="https://rogeriopradoj.com/tags/">Tags</a></li>
        <li><ul class="list-unstyled">
            <li class="tags-list">
                            </li>
            <li class="clearfix"></li>
        </ul></li>
    </ul>
</div>

<!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/5c5c04e17cf662208c9474ef/default';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
                    </div>
                </div>
            </div>
            <div id="push"></div>
        </div>

        <footer id="footer">
            <div class="container">
    &copy; 2020 <a target="_blank" href="https://rogeriopradoj.com/">Rogerio Prado de Jesus</a>
    <span class="pull-right">
        Source code on <a target="_blank" href="https://github.com/rogeriopradoj/rogeriopradoj.com">GitHub</a> - Powered by <a target="_blank" href="https://sculpin.io">Sculpin</a>
    </span>
</div>
        </footer>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <!-- build:js assets/js/main.min.js -->
        <script src="assets/js/lunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="assets/js/mustache.js" type="text/javascript" charset="utf-8"></script>
        <script src="assets/js/uri.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="assets/js/jquery.lunr.search.js" type="text/javascript" charset="utf-8"></script>
        <script src="assets/js/readingTime.min.js"></script>
        <script src="assets/js/highlight.pack.js"></script>
        <script src="assets/js/acelayablog.js"></script>
        <script src="assets/js/main.js"></script>
        <!-- /build -->

                    </body>
</html>
